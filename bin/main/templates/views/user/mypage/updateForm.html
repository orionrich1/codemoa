<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/default_layout}">

<div layout:fragment="content">	
	<div class="container my-5" style="max-width: 600px;">
		<h1 class="mb-4">계정 정보 수정</h1>
    
		<form id="userUpdateForm" th:action="@{updateUser}" method="POST">
			<input type="hidden" name="isPassChange" id="isPassChange">
			<div class="mb-3">
				<label for="userId" class="form-label">아이디</label>
				<input type="text" class="form-control" id="userId" name="userId" th:value="${user.userId}" readonly />
			</div>
	
			<!-- 비밀번호 변경 체크박스 -->
			<div class="form-check mb-3">
				<input class="form-check-input" type="checkbox" id="changePasswordCheck" name="changePasswordCheck" />
	        	<label class="form-check-label" for="changePasswordCheck">
	          	비밀번호 변경하기
	        	</label>
			</div>
	
			<!-- 비밀번호 입력 칸 -->
			<div id="passwordSection" class="mb-3" style="display:none;">
				<label for="currentPass" class="form-label">현재 비밀번호</label>
	        	<input type="password" class="form-control mb-2" id="currentPass" name="currentPass" />
	
	        	<label for="newPass" class="form-label">새 비밀번호</label>
	        	<input type="password" class="form-control mb-2" id="newPass" name="newPass" />
	
	        	<label for="passConfirm" class="form-label">새 비밀번호 확인</label>
	        	<input type="password" class="form-control" id="passConfirm" name="passConfirm" />
			</div>
	
			<!-- 이름 -->
			<div class="mb-3">
		        <label for="name" class="form-label">이름</label>
		        <input type="text" class="form-control" id="name" name="name" th:value="${user.name}" required />
			</div>
	
			<!-- 닉네임 -->
			<div class="mb-3">
		        <label for="nickname" class="form-label">닉네임</label>
		        <input type="text" class="form-control" id="nickname" name="nickname" th:value="${user.nickname}" required />
			</div>
	
			<!-- 휴대폰 -->
			<div class="mb-3">
		        <label for="mobile" class="form-label">휴대폰 번호</label>
		        <input type="tel" class="form-control" pattern="[0-9]*" id="mobile" name="mobile" th:value="${user.mobile}" required />
			</div>
	
			<!-- 이메일 -->
			<div class="mb-3">
		        <label for="email" class="form-label">이메일</label>
		        <input type="email" class="form-control" id="email" name="email" th:value="${user.email}" required />
			</div>
	
			<button type="submit" class="btn btn-primary">정보 수정 완료</button>
		</form>
	</div>
	<script th:src="@{/js/mypage/mypage.js}"></script>
</div>
</html>